# ğŸŒ² Cedaræœ¬åœ°åŒ…åŠŸèƒ½è§£ææ€»ç»“

## ğŸ“– æ¦‚è¿°

Cedaræ˜¯ä¸€ä¸ªä¸“æ³¨äºå›¾åƒå¤„ç†å’Œè®¡ç®—æœºè§†è§‰çš„Pythonå·¥å…·åº“ï¼Œæä¾›äº†ä¸°å¯Œçš„åŠŸèƒ½æ¨¡å—ï¼Œç‰¹åˆ«é’ˆå¯¹ä¸­æ–‡ç¯å¢ƒè¿›è¡Œäº†ä¼˜åŒ–ã€‚

## ğŸ—ï¸ åº“ç»“æ„

Cedaråº“ä¸»è¦åŒ…å«ä»¥ä¸‹æ¨¡å—ï¼š

```
cedar/
â”œâ”€â”€ image/          # å›¾åƒå¤„ç†æ¨¡å—
â”œâ”€â”€ draw/           # ç»˜å›¾åŠŸèƒ½æ¨¡å—  
â”œâ”€â”€ utils/          # å·¥å…·å‡½æ•°æ¨¡å—
â”œâ”€â”€ feature/        # ç‰¹å¾æå–æ¨¡å—
â”œâ”€â”€ label/          # æ ‡ç­¾å¤„ç†æ¨¡å—
â”œâ”€â”€ pdx/           # Pandasæ‰©å±•æ¨¡å—
â””â”€â”€ supper/        # è¶…çº§åŠŸèƒ½æ¨¡å—
```

## ğŸ–¼ï¸ å›¾åƒå¤„ç†æ¨¡å— (cedar.image)

### æ ¸å¿ƒåŠŸèƒ½

#### ğŸ“„ å›¾åƒI/Oæ“ä½œ
- **`imread(image_path, flag=cv2.IMREAD_COLOR)`**: è¯»å–å›¾åƒï¼Œæ”¯æŒä¸­æ–‡è·¯å¾„
- **`imwrite(image_path, img, plt=False)`**: ä¿å­˜å›¾åƒï¼Œæ”¯æŒä¸­æ–‡è·¯å¾„
- **`is_image(path)`**: åˆ¤æ–­æ–‡ä»¶æ˜¯å¦ä¸ºå›¾åƒæ ¼å¼

#### ğŸ“ å‡ ä½•è®¡ç®—
- **`calculate_iou(box1, box2)`**: è®¡ç®—ä¸¤ä¸ªè¾¹ç•Œæ¡†çš„IoUå€¼
- **`merge_boxes(boxes)`**: åˆå¹¶é‡å çš„è¾¹ç•Œæ¡†
- **`roate_image(img, angle)`**: å›¾åƒæ—‹è½¬

#### ğŸ”„ æ ¼å¼è½¬æ¢
- **`array_to_base64(img)`**: æ•°ç»„è½¬Base64ç¼–ç 
- **`path_to_url(path)`**: è·¯å¾„è½¬URLæ ¼å¼
- **`url_to_path(url)`**: URLè½¬è·¯å¾„æ ¼å¼
- **`find_image_path(directory)`**: æŸ¥æ‰¾ç›®å½•ä¸­çš„å›¾åƒæ–‡ä»¶

### ä½¿ç”¨ç¤ºä¾‹

```python
from cedar.image import imread, imwrite, calculate_iou, is_image

# å›¾åƒè¯»å–ï¼ˆæ”¯æŒä¸­æ–‡è·¯å¾„ï¼‰
img = imread("æµ‹è¯•å›¾ç‰‡.jpg")

# IoUè®¡ç®—
box1 = [50, 50, 150, 150]
box2 = [100, 100, 200, 200]
iou = calculate_iou(box1, box2)
print(f"IoUå€¼: {iou:.4f}")

# å›¾åƒæ£€æŸ¥
if is_image("test.jpg"):
    print("è¿™æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„å›¾åƒæ–‡ä»¶")
```

## ğŸ¨ ç»˜å›¾æ¨¡å— (cedar.draw)

### æ ¸å¿ƒåŠŸèƒ½

#### ğŸ¨ é¢œè‰²ç®¡ç†
- **`color_list`**: é¢„å®šä¹‰çš„é¢œè‰²åˆ—è¡¨ï¼ŒåŒ…å«å¤šç§å¸¸ç”¨é¢œè‰²

#### âœï¸ æ–‡æœ¬ç»˜åˆ¶
- **`putText(img, text, position, textColor, textSize)`**: åœ¨å›¾åƒä¸Šç»˜åˆ¶æ–‡æœ¬ï¼Œæ”¯æŒä¸­æ–‡

#### ğŸ“ çº¿æ¡ç»˜åˆ¶
- **`draw_lines(img, row_lines, col_lines, color, thickness)`**: ç»˜åˆ¶ç½‘æ ¼çº¿æ¡

#### ğŸ“Š æ˜¾ç¤ºåŠŸèƒ½
- **`imshow(img)`**: ä½¿ç”¨matplotlibæ˜¾ç¤ºå›¾åƒ

### ä½¿ç”¨ç¤ºä¾‹

```python
from cedar.draw import putText, color_list, draw_lines
from cedar.image import imread

img = imread("test.jpg")

# æ·»åŠ ä¸­æ–‡æ–‡æœ¬
img_with_text = putText(
    img, 
    "Cedaråº“æ¼”ç¤º ğŸŒ²", 
    position=(50, 50), 
    textColor=(0, 255, 0), 
    textSize=40
)

# ç»˜åˆ¶ç½‘æ ¼çº¿
row_lines = [50, 100, 150, 200]
col_lines = [50, 100, 150, 200]
img_with_grid = draw_lines(img, row_lines, col_lines, color=(0, 255, 255))
```

## ğŸ› ï¸ å·¥å…·æ¨¡å— (cedar.utils)

### æ ¸å¿ƒåŠŸèƒ½

#### ğŸ“ æ–‡ä»¶æ“ä½œ
- **`split_filename(filename)`**: åˆ†ç¦»æ–‡ä»¶åå’Œæ‰©å±•å
- **`move_file(src, dst, filename=None)`**: ç§»åŠ¨æ–‡ä»¶
- **`copy_file(src, dst, filename=None)`**: å¤åˆ¶æ–‡ä»¶
- **`get_files_list(path, find_suffix=[], sortby="name")`**: è·å–æ–‡ä»¶åˆ—è¡¨
- **`find_duplicate_filenames(directory)`**: æŸ¥æ‰¾é‡å¤æ–‡ä»¶å

#### ğŸ” å®‰å…¨åŠŸèƒ½
- **`get_file_md5(filename)`**: è®¡ç®—æ–‡ä»¶MD5å“ˆå¸Œå€¼

#### â±ï¸ æ€§èƒ½ç›‘æ§
- **`timeit`**: å‡½æ•°æ‰§è¡Œæ—¶é—´è£…é¥°å™¨
- **`set_timeit_env(debug=True)`**: è®¾ç½®æ—¶é—´ç›‘æ§ç¯å¢ƒ

#### ğŸ—ï¸ ç›®å½•ç®¡ç†
- **`rmtree_makedirs(*dirs)`**: åˆ é™¤å¹¶é‡å»ºç›®å½•

#### ğŸ†” å”¯ä¸€æ ‡è¯†
- **`create_name()`**: åˆ›å»ºåŸºäºæ—¶é—´æˆ³çš„å”¯ä¸€åç§°

#### âš™ï¸ é…ç½®ç®¡ç†
- **`Config(config_path)`**: é…ç½®æ–‡ä»¶ç®¡ç†ç±»ï¼Œæ”¯æŒJSON/YAML
- **`Dict2Obj(dict_data)`**: å­—å…¸è½¬å¯¹è±¡å·¥å…·

#### ğŸ”„ è¿›ç¨‹ç®¡ç†
- **`run_subprocess(cmd, cwd=None)`**: è¿è¡Œå­è¿›ç¨‹

#### ğŸ“ æ—¥å¿—åŠŸèƒ½
- **`init_logger()`**: åˆå§‹åŒ–æ—¥å¿—ç³»ç»Ÿ

### ä½¿ç”¨ç¤ºä¾‹

```python
from cedar.utils import (split_filename, create_name, get_file_md5, 
                        timeit, Config, Dict2Obj)

# æ–‡ä»¶åå¤„ç†
filename, ext = split_filename("test_image.jpg")
print(f"æ–‡ä»¶å: {filename}, æ‰©å±•å: {ext}")

# åˆ›å»ºå”¯ä¸€åç§°
unique_name = create_name()
print(f"å”¯ä¸€åç§°: {unique_name}")

# æ—¶é—´è£…é¥°å™¨
@timeit
def slow_function():
    import time
    time.sleep(0.1)
    return "å¤„ç†å®Œæˆ"

# é…ç½®ç®¡ç†
config = Config("config.json")
print(f"é…ç½®: {config.obj.setting_name}")

# å­—å…¸è½¬å¯¹è±¡
obj = Dict2Obj({"name": "Cedar", "version": "1.0"})
print(f"è®¿é—®: {obj.name}")
```

## ğŸš€ é«˜çº§ç‰¹æ€§

### 1. ä¸­æ–‡æ”¯æŒ
- **å®Œç¾æ”¯æŒä¸­æ–‡è·¯å¾„**: å›¾åƒè¯»å†™å‡½æ•°ä¸“é—¨å¤„ç†ä¸­æ–‡è·¯å¾„ç¼–ç é—®é¢˜
- **ä¸­æ–‡æ–‡æœ¬ç»˜åˆ¶**: putTextå‡½æ•°æ”¯æŒä¸­æ–‡å­—ä½“æ¸²æŸ“

### 2. æ€§èƒ½ä¼˜åŒ–
- **æ—¶é—´è£…é¥°å™¨**: è‡ªåŠ¨ç›‘æ§å‡½æ•°æ‰§è¡Œæ—¶é—´
- **æ‰¹å¤„ç†æ”¯æŒ**: æ–‡ä»¶æ“ä½œæ”¯æŒæ‰¹é‡å¤„ç†

### 3. é…ç½®ç®¡ç†
- **å¤šæ ¼å¼æ”¯æŒ**: æ”¯æŒJSONã€YAMLé…ç½®æ–‡ä»¶
- **å¯¹è±¡åŒ–è®¿é—®**: é…ç½®é¡¹å¯ä»¥åƒå¯¹è±¡å±æ€§ä¸€æ ·è®¿é—®

### 4. å®‰å…¨ç‰¹æ€§
- **MD5æ ¡éªŒ**: æ–‡ä»¶å®Œæ•´æ€§éªŒè¯
- **å®‰å…¨çš„å­è¿›ç¨‹**: é¿å…shellæ³¨å…¥é£é™©

## ğŸ“Š å®é™…æµ‹è¯•ç»“æœ

é€šè¿‡æ¼”ç¤ºè„šæœ¬æµ‹è¯•çš„åŠŸèƒ½ï¼š

### âœ… æˆåŠŸæµ‹è¯•çš„åŠŸèƒ½

1. **å›¾åƒå¤„ç†**:
   - å›¾åƒè¯»å–: 300Ã—300Ã—3 å›¾åƒæˆåŠŸè¯»å–
   - IoUè®¡ç®—: Box1=[50,50,150,150], Box2=[100,100,200,200], IoU=0.1905
   - Base64è½¬æ¢: 353,990å­—ç¬¦é•¿åº¦

2. **ç»˜å›¾åŠŸèƒ½**:
   - ä¸­æ–‡æ–‡æœ¬ç»˜åˆ¶: "Cedaråº“æ¼”ç¤º ğŸŒ²"
   - è‹±æ–‡æ–‡æœ¬ç»˜åˆ¶: "Image Processing Demo"
   - ç½‘æ ¼çº¿ç»˜åˆ¶: 4Ã—4ç½‘æ ¼

3. **å·¥å…·åŠŸèƒ½**:
   - æ–‡ä»¶ååˆ†ç¦»: "test_image.jpg" â†’ ("test_image", ".jpg")
   - å”¯ä¸€åç§°ç”Ÿæˆ: "2025-06-11_23-28-25-924113"
   - MD5è®¡ç®—: "02cb88b77b73d548438c873c8c8d1878"
   - é…ç½®ç®¡ç†: JSONé…ç½®æ–‡ä»¶åŠ è½½æˆåŠŸ

4. **æ€§èƒ½ç›‘æ§**:
   - æ—¶é—´è£…é¥°å™¨: 0.105ç§’æ‰§è¡Œæ—¶é—´ç›‘æ§

### ğŸ“ ç”Ÿæˆçš„æ¼”ç¤ºæ–‡ä»¶

- `cedar_text_demo.jpg`: å¸¦ä¸­è‹±æ–‡æ–‡æœ¬çš„å›¾åƒ
- `cedar_lines_demo.jpg`: å¸¦ç½‘æ ¼çº¿çš„å›¾åƒ  
- `cedar_comprehensive_demo.jpg`: ç»¼åˆåŠŸèƒ½å±•ç¤ºå›¾åƒ

## ğŸ¯ ä¸»è¦ä¼˜åŠ¿

1. **ğŸŒ å›½é™…åŒ–å‹å¥½**: å®Œç¾æ”¯æŒä¸­æ–‡è·¯å¾„å’Œæ–‡æœ¬
2. **ğŸ¨ å›¾åƒå¤„ç†ä¸“ä¸š**: ä¸“æ³¨CVé¢†åŸŸï¼ŒåŠŸèƒ½ä¸°å¯Œ
3. **ğŸ› ï¸ å·¥å…·é½å…¨**: ä»æ–‡ä»¶æ“ä½œåˆ°æ€§èƒ½ç›‘æ§ä¸€åº”ä¿±å…¨
4. **âš¡ é«˜æ•ˆä¾¿æ·**: ç®€åŒ–å¸¸ç”¨æ“ä½œï¼Œæé«˜å¼€å‘æ•ˆç‡
5. **ğŸ”§ æ˜“äºä½¿ç”¨**: APIè®¾è®¡ç®€æ´ï¼Œå­¦ä¹ æˆæœ¬ä½
6. **ğŸ“Š å®ç”¨ç®—æ³•**: æä¾›IoUç­‰å¸¸ç”¨CVç®—æ³•å®ç°

## ğŸ”® é€‚ç”¨åœºæ™¯

- **è®¡ç®—æœºè§†è§‰é¡¹ç›®**: å›¾åƒå¤„ç†ã€ç›®æ ‡æ£€æµ‹ã€å›¾åƒåˆ†æ
- **æ•°æ®ç§‘å­¦åº”ç”¨**: å›¾åƒæ•°æ®é¢„å¤„ç†å’Œå¯è§†åŒ–
- **è‡ªåŠ¨åŒ–è„šæœ¬**: æ‰¹é‡å›¾åƒå¤„ç†å’Œæ–‡ä»¶ç®¡ç†
- **ç ”ç©¶å¼€å‘**: å¿«é€ŸåŸå‹å¼€å‘å’Œå®éªŒéªŒè¯
- **ä¸­æ–‡ç¯å¢ƒ**: éœ€è¦å¤„ç†ä¸­æ–‡è·¯å¾„å’Œæ–‡æœ¬çš„åº”ç”¨

Cedaråº“æ˜¯ä¸€ä¸ªåŠŸèƒ½å…¨é¢ã€æ˜“äºä½¿ç”¨çš„Pythonå›¾åƒå¤„ç†å·¥å…·åº“ï¼Œç‰¹åˆ«é€‚åˆä¸­æ–‡ç¯å¢ƒä¸‹çš„è®¡ç®—æœºè§†è§‰å¼€å‘å·¥ä½œã€‚ 